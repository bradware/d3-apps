 var map = {};
    d3.csv('data/cereal.csv', function(d) {
      if (d.Manufacturer in map) {
        var newCals = map[d.Manufacturer].totalCals + (+d.Calories);
        var newCount = map[d.Manufacturer].count + 1;
        var newAvg = Math.round(newCals / newCount);
        map[d.Manufacturer] = {manu: d.Manufacturer, totalCals: newCals, count: newCount, avgCals: newAvg};
      } 
      else {
        map[d.Manufacturer] = {manu: d.Manufacturer, totalCals: +d.Calories, count: 1, avgCals: +d.Calories};
      }
    }, 
    function(error, data) {
      if (error) throw error;
      data = new Array();
      for (var prop in map) { data.push(map[prop]); }
      // log data to console for inspection
      console.log(data);